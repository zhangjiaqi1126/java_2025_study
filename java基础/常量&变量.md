# 常量

在 Java 中，常量（Constants）是指在程序运行期间值不会改变的变量。常量通常用来表示固定不变的值，例如数学常数、物理常数、程序中的配置参数等。下面是关于 Java 常量的详细解释：

1. **定义常量**：
   - 使用 `final` 关键字定义常量。例如：`public static final double PI = 3.14159;`
   - 常量名通常采用大写字母命名，单词之间用下划线 `_` 分隔，例如：`MAX_VALUE`。
2. **常量的特点**：
   - 一旦被初始化，常量的值就不能再被改变。
   - 常量可以是任何基本数据类型或引用类型。
   - 常量必须在声明时初始化，或者在静态块中初始化。
3. **访问常量**：
   - 常量通常是静态的，可以直接通过类名访问，例如：`Math.PI`。
   - 如果常量不是静态的，需要先创建对象才能访问。
4. **常量的作用域**：
   - 常量的作用域取决于它的访问修饰符。例如，`public` 访问修饰符允许从任何地方访问常量。
5. **枚举类**：
   - Java 中的枚举类也是一种常量的实现方式。枚举类定义了一组固定的常量值。
   - 枚举类提供了更高级的类型安全和编译时检查。
6. **常量的优点**：
   - 提高代码的可读性和可维护性。
   - 避免了硬编码的魔法数字和字符串，减少了错误。
   - 可以在一个地方更改常量的值，而不需要在整个代码中查找和修改。
7. **注意事项**：
   - 尽量使用有意义的常量名，而不是简单的数字或字母。
   - 常量的值应该在编译时确定，不能依赖于运行时的计算结果。



# 变量

变量是用来存储数据的命名空间。Java 中的变量必须先声明，然后才能使用。

## 变量声明

变量声明包括数据类型、变量名和可选的初始化值。例如：

```java
int age; // 声明一个整型变量 age
String name = "John"; // 声明一个字符串变量 name 并初始化为 "John"
```

## 变量作用域

变量的作用域决定了它在程序中的可见性。Java 中有以下几种变量作用域：

1. **局部变量（Local Variables）**：在方法或代码块内部声明，仅在该范围内可见。
2. **实例变量（Instance Variables）**：在类中声明，属于对象的状态，对象创建后才可访问。
3. **静态变量（Static Variables）**：在类中声明，属于类的状态，类加载时初始化。

## 变量的命名规则

Java 中的变量名必须遵循以下规则：

1. 变量名只能包含字母、数字、下划线 `_` 和美元符号 `$`。
2. 变量名不能以数字开头。
3. 变量名区分大小写。
4. 变量名不能与 Java 关键字相同。

## 实例

来看一个完整的定义变量，然后打印变量值的例子：

```java
// 定义并打印变量
public class Main {
    public static void main(String[] args) {
        int x = 100; // 定义int类型变量x，并赋予初始值100
        System.out.println(x); // 打印该变量的值
    }
}
```

变量的一个重要特点是可以重新赋值。例如，对变量`x`，先赋值`100`，再赋值`200`，观察两次打印的结果：

```java
// 重新赋值变量
public class Main {
    public static void main(String[] args) {
        int x = 100; // 定义int类型变量x，并赋予初始值100
        System.out.println(x); // 打印该变量的值，观察是否为100
        x = 200; // 重新赋值为200
        System.out.println(x); // 打印该变量的值，观察是否为200
    }
}
```



# 数据类型

Java 中的数据类型分为两大类：原始数据类型（Primitive Data Types）和引用数据类型（Reference Data Types）。

## 原始数据类型

原始数据类型是 Java 内置的基本数据类型，不是对象。它们直接存储在栈上。

1. **布尔型（boolean）**：表示真或假的值。
2. **字符型（char）**：表示单个 Unicode 字符。
3. **浮点型（float 和 double）**：用于表示带小数点的数字。
4. **整型（byte、short、int 和 long）**：用于表示整数。
5. **空值（void）**：表示无返回值的方法。

### 整型

对于整型类型，Java只定义了带符号的整型，因此，最高位的bit表示符号位（0表示正数，1表示负数）。各种整型能表示的最大范围如下：

- byte：-128 ~ 127
- short: -32768 ~ 32767
- int: -2147483648 ~ 2147483647
- long: -9223372036854775808 ~ 9223372036854775807

我们来看定义整型的例子：

```java
// 定义整型
public class Main {
    public static void main(String[] args) {
        int i = 2147483647;
        int i2 = -2147483648;
        int i3 = 2_000_000_000; // 加下划线更容易识别
        int i4 = 0xff0000; // 十六进制表示的16711680
        int i5 = 0b1000000000; // 二进制表示的512

        long n1 = 9000000000000000000L; // long型的结尾需要加L
        long n2 = 900; // 没有加L，此处900为int，但int类型可以赋值给long
        int i6 = 900L; // 错误：不能把long型赋值给int
    }
}
```

特别注意：同一个数的不同进制的表示是完全相同的，例如`15`=`0xf`＝`0b1111`。

### 浮点型

浮点类型的数就是小数，因为小数用科学计数法表示的时候，小数点是可以“浮动”的，如1234.5可以表示成12.345x102，也可以表示成1.2345x103，所以称为浮点数。

下面是定义浮点数的例子：

```java
float f1 = 3.14f;
float f2 = 3.14e38f; // 科学计数法表示的3.14x10^38
float f3 = 1.0; // 错误：不带f结尾的是double类型，不能赋值给float

double d = 1.79e308;
double d2 = -1.79e308;
double d3 = 4.9e-324; // 科学计数法表示的4.9x10^-324
```

对于`float`类型，需要加上`f`后缀。

浮点数可表示的范围非常大，`float`类型可最大表示3.4x1038，而`double`类型可最大表示1.79x10308。

### 布尔类型

布尔类型`boolean`只有`true`和`false`两个值，布尔类型总是关系运算的计算结果：

```java
boolean b1 = true;
boolean b2 = false;
boolean isGreater = 5 > 3; // 计算结果为true
int age = 12;
boolean isAdult = age >= 18; // 计算结果为false
```

Java语言对布尔类型的存储并没有做规定，因为理论上存储布尔类型只需要1 bit，但是通常JVM内部会把`boolean`表示为4字节整数。

### 字符类型

字符类型`char`表示一个字符。Java的`char`类型除了可表示标准的ASCII外，还可以表示一个Unicode字符：

```java
// 字符类型
public class Main {
    public static void main(String[] args) {
        char a = 'A';
        char zh = '中';
        System.out.println(a);
        System.out.println(zh);
    }
}
```

注意`char`类型使用单引号`'`，且仅有一个字符，要和双引号`"`的字符串类型区分开。

## 引用数据类型

引用数据类型是对对象的引用。它们存储在堆上，并且需要通过关键字 `new` 来创建。

1. **类（class）**：自定义的数据类型，用于创建对象。
2. **接口（interface）**：定义了一组方法，类可以实现这些方法。
3. **数组（array）**：用于存储多个相同类型的值。
4. **枚举（enum）**：定义了一组固定的常量值。

## var关键字

有些时候，类型的名字太长，写起来比较麻烦。例如：

```java
StringBuilder sb = new StringBuilder();
```

这个时候，如果想省略变量类型，可以使用`var`关键字：

```java
var sb = new StringBuilder();
```

编译器会根据赋值语句自动推断出变量`sb`的类型是`StringBuilder`。对编译器来说，语句：

```java
var sb = new StringBuilder();
```

实际上会自动变成：

```java
StringBuilder sb = new StringBuilder();
```

因此，使用`var`定义变量，仅仅是少写了变量类型而已。

